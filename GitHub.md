# Github学习
## 1.使用Github
### 1.1 目的
```
借助github托管项目代码
```

### 1.2 基本概念
- 仓库（Repository）
```
仓库的意思是：即你的项目，你想在Github上开源一个项目，那就必须要新建一个Repository，如果你开源项目多了，就有多个Repository
```

- 收藏（star）
```
仓库主页stat按钮，意思为收藏项目的人数。
```

- 复制克隆项目（fork） 
```
点击fork之后会在记得仓库下面复制一个一模一样的仓库下来
```

- 发起请求（full request）
```
发送请求，这个其实是基于fork的，如果别人在你基础上做了改进，后来觉得改进的不错，应该要把这些改进让更多的人收益，于是就想把自己的改进合并到原有的项目中，这时候他就可以发起一个请求（简称PR），如果改进的很好元有项目的人同意之后就会接受PR
```

- 关注（watch）
```
watch某个项目，那么以后只要这个项目有任何更新，你都会第一时间收到关于这个项目的通知和提醒。
```

- 事务卡片（Issue）
```
发现代码bug，但是目前没有成型代码，需要讨论时用：
	
```

****
****

## 2.Github主页
```
账号创建成功或点击地址栏Github图标都可以进入Github主页额；改主页左侧主要显示用户动态以及关注用户或关注仓库的动态；右侧显示所有的git库
```

### 2.1 仓库主页
```
仓库主页主要是显示项目的信息，如：项目代码，版本，收藏/关注/fork情况等 
```

### 2.2 个人主页
```
个人信息：头像，个人简介，关注我的人，我关注的人，我关注的Git库，我的开源项目，我贡献的开源项目等信息
```


****
****

## 3.仓库管理
###3.1 New Repository
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305153839414-1881329928.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305154156979-335147871.png)

### 3.2 create new file
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305155123593-68644858.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305155217785-762808116.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305155256542-1054947455.png)

## 3.3 edit file 
>点击文件名可以看到详细内容并编辑文件；点击提交信息可以看到修改内容

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305155627882-2072472688.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305155704653-619863160.png)


### 3.4 Upload file
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305160238053-2021952206.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305160319380-1405311291.png)


### 3.5 find file
>快捷键 T 


****
****

## 4.Github Issues
```
作用：发现代码BUG，但是目前没有成型代码，需要讨论时用，或者使用开源鲜蘑菇出现问题时使用
```

### 4.1  使用
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305160931620-113415072.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305161054812-1177923953.png)


![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305161216693-326728396.png)

>上图需要模拟两个账号来处理问题，只有一个所以只能这样了；问题解决之后记得点击close issue


****
****

## 5.基本概念实战

### 5.1仓库
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305161552215-1988765177.png)

### 5.2个人主页
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305161448943-2101155450.png)

### 5.3仓库相关操作
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305161652717-1621009217.png)


### 5.4克隆项目
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305161810961-1388225793.png)


### 5.5发起请求
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305162341870-412757587.png)
>在自己fork的项目里面做相应的修改，然后full request 才会提交到对方的仓库里面，别人同意了才会显示自己的文件。Merger full request


****
****
## 6.开源项目贡献流程
### 6.1 新建Issue
```
提交使用问题或者建议想法
```

### 6.2 Pull Request
```
步骤：
	1.fork项目
	2.修改自己仓库的项目代码
	3.新建pull request
	4.等待作者审核，合并到制作者仓库中
```

****
****

## 7.Git安装和使用
### 7.1 什么是Git？
```
Git是目前世界上最先进的分布式版本控制系统
```

### 7.1 目的
```
通过Git管理Github 托管项目代码
```

### 7.2 下载安装
>地址：https://git-scm.com/
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305164031918-1227946955.png)

>红色标记是一个是命令行界面，一个图形化界面

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305164137807-782674911.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305164157201-910894986.png)

>中间没有图的都是Next步骤，最后剩下的三步是默认Next


### 7.3 测试安装是否成功
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305164434307-1363697971.png)

>点击桌面，鼠标右击，出现以上Git 就是成功


****
****

## 8 介绍Git基本工作原理
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305184405887-435544188.png)

### 8.1 Git工作区域
- Git Repository （Git仓库）
```
最终确定的文件保存到仓库，成为一个新的版本，并且对他人可见
```

- 暂存区（Index/Stage）
```
暂存已经修改的文件最后统一提交到git仓库中
```

- 工作区（Working Directory）
```
添加、编辑、修改可见等动作
```

- 远程仓库（Remote）

### 8.2 向仓库中添加文件流程
```

	git status
	git add hello.java

	git status
	git commit -m "提交描述"
	
	git status
	
```

### 8.3 Git与SVN的最主要区别？
```
SVN是集中式版本控制系统，版本库是集中放在中央服务器的额，而干活的时候，用的都是自己的电脑，所以首先要从中央服务器哪里得到最新的版本，然后干活，做完项目之后，需要把自己做完的模块推送到中央服务器。集中式版本控制系统必须和联网才能工作，如果在局域网还可以，带宽够大，速度够快，如果在互联网下，网速慢就要等了。

Git是分布式版本控制系统，那么它就没有中央服务器的额，每个人的的电脑就是一个完整的版本库，这样，工作的时候就不需要联网了，因为版本都是在自己的电脑上，既然每个人的电脑都有一个完整的版本库，那多个人如何协作呢？两个人同时修改了一个文件。这时候两个人之间只需要把各自的修改推送给对方就可以相互看到修改的内容。
```


## 9 Git初始化及仓库创建和操作
### 9.1 Git基础设置
- 设置用户名
```
git config --global user.name='qichunlin' 
```

- 设置用户名邮箱
```
git config --global user.email='737795279@qq.com'
```

- 查看设置
```
git config --list
```

>该设置在Github仓库主页显示谁提交了该文件
>因为Git是分布式版本控制系统，所以需要填写用户名和邮箱作为一个标识。
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305232413667-1523377611.png)


### 9.2 Git操作
####初始化一个新的仓库（文件夹）
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305170632618-1512075147.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305170743881-1137472455.png)

#### 9.2.1添加文件到工作区
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305171013665-233931906.png)


#### 9.2.2查看文件状态
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305171221667-1484334424.png)


#### 9.2.3添加文件到暂存区
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305171310611-696915856.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305171408684-857708906.png)


#### 9.2.4将文件添加到本地Git仓库
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305172009171-3640519.png)



#### 9.2.5GIt撤销和删除文件操作
```
本地删除文件
	rm a.java

从Git库中删除文件
	git commit -m '删除文件'

删除工作区文件，并且将这次删除放入暂存区
	git rm [file1] [file2] ...
没有提交操作之前想恢复文件
	git checkout -- filename

停止追踪指定文件，但该文件会保留在工作区
	git rm --cached [file]
```

- 撤销操作
```
git checkout -- readme.md
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306090351092-1608733797.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306090441149-1300971868.png)


![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305175613659-1810966814.png)


#### 9.2.6查看文件修改内容
```
git diff README.md
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305233606498-491829815.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305233702386-1131966876.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305233720986-1681648514.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305233824382-1379023297.png)


#### 9.2.7版本回退
```
git log

git --pretty=oneline

git reset --hard HEAD^


===============
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305234123246-1488039467.png)

- 缩短显示提交的信息，
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305234248911-109998541.png)


- 版本回退两种方法
```
	第一种是：git reset --hard HEAD^ 那么如果要回退到上上个版本只需把HEAD^ 改成 HEAD^^ 以此类推。那如果要回退到前100个版本的话，使用上面的方法肯定不方便，我们可以使用下面的简便命令操作：git reset --hard HEAD~100 即可。
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305234709228-331491503.png)

- 回退到最新版本
```
先获取到版本号：git reflog  
	在使用：	git reset --hard e24b613
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305234944081-1600212684.png)



****
### 9.3注意
```
	所有的版本控制系统，只能跟踪文本文件的改动，比如txt文件，网页，所有程序的的代码等，Git也不例外，版本控制系统可以告诉你每次的改动，但是图片，视频这些二进制文件，虽能由版本控制系统管理，但没法跟踪文件的变化，只能把二进制文件每次改动串起来，也就是知道图片从1kb变到2kb，但是修改了啥，版本控制也不知道。
```

****
****

## 10.Git克隆操作
###目的
```
将远程仓库（github对应的项目）复制到本地
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305180846339-1157693.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305180927265-1663373711.png)



### 10.1把本地库和远程库关联起来设置
```
git remote add origin https://github.com/qichunlin/test.git
```

### 10.2上传本地库到远程库
```
git push -u origin master

git push
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305181708712-1178209111.png)


#### 10.3提交到远程服务器（报错）
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305174538750-402896846.png)

>看下面的解决办法


****
****

## 11.Github配置远程仓库
### 11.1 创建SSH Key
```
在用户主目录下，看看有没有.ssh目录，如果有，再看看这个目录下有没有id_rsa和 id_rsa.pub  这两个文件,如果有的话，直接跳过此如下命令，如果没有的话，打开命令行，输入如下命令：
   ssh-keygen -t rsa CC “youremail@example.com”


id_rsa是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人。
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305174721166-1748237333.png)
>第一种写法是错误的加了空格,第二种才是对的。  注意：输入完成之后，一定要回车三次！！！！！！


### 11.2 vim 打开文件复制内容
`ssh -keygen`
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305174830784-1109992776.png)


### 11.3提交Github
```
   登录github,打开” settings”中的SSH Keys页面，然后点击“Add SSH Key”,填上任意title，在Key文本框里黏贴id_rsa.pub文件的内容。
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305174451918-1639555199.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305174953431-95143107.png)

### 11.4 获取Github上的地址，在本地Git输入
```
git remote add origin https://github.com/qichunlin/test.git
```

### 11.5推送
```
git push -u orgin master

     由于远程库是空的，我们第一次推送master分支时，加上了 Cu参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。推送成功后，可以立刻在github页面中看到远程库的内容已经和本地一模一样了，上面的要输入github的用户名和密码


后面如果想提交 直接输入 git push origin master
```


### 11.6测试
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190305183512745-1255568170.png)


****
****

## 12. 创建与合并分支
```
   在版本回退里，你已经知道，每次提交，Git都把它们串成一条时间线，这条时间线就是一个分支。截止到目前，只有一条时间线，在Git里，这个分支叫主分支，即master分支。HEAD严格来说不是指向提交，而是指向master，master才是执行提交的，所以，HEAD指向的就是当前分支。
```

- 创建dev分支，然后切换dev分支上
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306092924638-1981464777.png)

```
git checkout 命令加上 Cb参数表示创建并切换，相当于如下2条命令

   git branch dev          git checkout dev

git branch查看分支，会列出所有的分支，当前分支前面会添加一个星号。
```

- 在dev分支上做操作，并切换到主分支
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306093211334-506463112.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306095001802-1737941869.png)

- 在主分支master上合并分支
```
 git merge命令用于合并指定分支到当前分支上
```

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306095520982-1898480691.png)

>注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。


- 合并完成，删除dev分支
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306095645135-773234233.png)

### 12.1总结创建与合并分支操作
```
总结创建与合并分支命令如下：

查看分支：git branch

创建分支：git branch name

切换分支：git checkout name

创建+切换分支：git checkout Cb name

合并某分支到当前分支：git merge name

删除分支：git branch Cd name
```

****
****

## 13. 如何解决冲突
- 新建一个新分支 fenzhi1，在readmemd添加一行内容，然后提交
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306100358796-838108198.png)

- 切换到master分支上，也在同一行添加内容
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306100544250-410419979.png)

- 在master分支上来合并fenzhi1
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306100748070-1300233989.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306101020177-421752152.png)
>Git用<<<<<<<，=======，>>>>>>>标记出不同分支的内容，其中<<<head是指主分支修改的内容，>>>>>fenzhi1 是指fenzhi1上修改的内容

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306101653865-143547928.png)


- 分支管理策略
```
   通常合并分支时，git一般使用”Fast forward”模式，在这种模式下，删除分支后，会丢掉分支信息，现在我们来使用带参数 Cno-ff来禁用”Fast forward”模式。

流程：
	创建一个dev分支。
	修改readme.txt内容。
	添加到暂存区。
	切换回主分支(master)。
	合并dev分支，使用命令 git merge Cno-ff -m “注释” dev
	查看历史记录
```

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306102711271-63048097.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306103044357-99849579.png)
```
合并dev分支 -no-ff 表示禁用fast forward：
     git merge --no-ff -m 'merge with no-ff' dev
```


>分支策略：首先master主分支应该是非常稳定的，也就是用来发布新版本，一般情况下不允许在上面干活，干活一般情况下在新建的dev分支上干活，干完后，比如上要发布，或者说dev分支代码稳定后可以合并到主分支master上来。

****

## 14.Bug分支
```
    在开发中，会经常碰到bug问题，那么有了bug就需要修复，在Git中，分支是很强大的，每个bug都可以通过一个临时分支来修复，修复完成后，合并分支，然后将临时的分支删除掉。
   比如我在开发中接到一个404 bug时候，我们可以创建一个404分支来修复它，但是，当前的dev分支上的工作还没有提交。
```

>git stash 将当前的工作现场隐藏起来，等以后恢复现场继续工作
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306111735294-117118184.png)


>创建issue-bug分支来修复bug；
>首先我们要确定在那个分支上修复bug，比如我现在是在主分支master上来修复的，现在我要在master分支上创建一个临时分支
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306112612290-486055975.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306112234810-748327454.png)

>修复完成后，切换到master分支上，并完成合并，最后删除issue-404分支。

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306112712698-129020043.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306112815167-20377784.png)

>回到原来分支工作
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306112851293-1935245425.png)

>工作现场
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306112943822-1198623647.png)


>工作现场还在，Git把stash内容存在某个地方了，但是需要恢复一下，可以使用如下2个方法：
```
   1.git stash apply恢复，恢复后，stash内容并不删除，你需要使用命令git stash drop来删除。
   2.另一种方式是使用git stash pop,恢复的同时把stash内容也删除了。
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306152238293-1883030271.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306152429530-1846887544.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306152741618-1444551682.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306152836876-1793628141.png)


## 15.多人协作
```
	当你从远程库克隆时候，实际上Git自动把本地的master分支和远程的master分支对应起来了，并且远程库的默认名称是origin。
```

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306103730854-1696041451.png)

>fetch 抓取   push 推送

- 推送分支
```
推送分支就是把该分支上所有本地提交到远程库中，推送时，要指定本地分支，这样，Git就会把该分支推送到远程库对应的远程分支上： 使用命令 git push origin master
```

`远程README`
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306104012767-567062794.png)

`本地README`
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306104135162-1175621263.png)

`推送文件到远程`
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306104242054-1502902542.png)

`OK   如果我们现在要推送到其他分支，比如dev分支上，我们还是那个命令 git push origin dev`
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306104316839-2116429424.png)

>master分支是主分支，因此要时刻与远程同步。
>一些修复bug分支不需要推送到远程去，可以先合并到主分支上，然后把主分支master推送到远程去。

- 抓取分支
>先推送fenzhi1到远程去
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306105036626-1082395390.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306105443868-1695891047.png)

![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306105517256-434849528.png)

>我们的小伙伴要在fenzhi1分支上做开发，就必须把远程的origin的fenzhi1 分支到本地来，于是可以使用命令创建本地fenzhi1分支：
```
git checkout Cb fenzhi1 origin/fenzhi1
```
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306105634878-1538230574.png)

>推送远程
![](https://img2018.cnblogs.com/blog/1231979/201903/1231979-20190306105956612-1806922712.png)